<div class="page-container">
  <h2 class="page-title"><%= t('imports.title') %></h2>

  <% if @imports.any? %>
    <table class="table table-dark">
      <thead>
        <tr>
          <th>ID</th>
          <th><%= t('imports.file') %></th>
          <th><%= t('imports.status') %></th>
          <th><%= t('imports.date') %></th>
        </tr>
      </thead>

      <tbody>
        <% @imports.each do |import| %>
          <tr>
            <td><%= import.id %></td>

            <td>
              <% if import.file.attached? %>
                <%= link_to import.file.filename, url_for(import.file),
                            target: "_blank",
                            class: "file-link" %>
              <% else %>
                <span class="text-muted"><%= t('imports.no_file') %></span>
              <% end %>
            </td>

            <td>
              <% case import.status %>
              <% when "pending" %>
                <span class="status-badge pending"><%= t('imports.status_labels.pending') %></span>
              <% when "processing" %>
                <span class="status-badge processing"><%= t('imports.status_labels.processing') %></span>
              <% when "finished" %>
                <span class="status-badge success"><%= t('imports.status_labels.finished') %></span>
              <% when "failed" %>
                <span class="status-badge failed"><%= t('imports.status_labels.failed') %></span>
              <% end %>
            </td>

            <td><%= l(import.created_at, format: :short) %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <p class="empty-message"><%= t('imports.empty_message') %></p>
  <% end %>

  <div class="actions">
    <%= link_to t('imports.new_import'), new_import_path, class: "btn btn-primary" %>
  </div>
</div>
